this.SS_AddonTabs = (function () {
  function SS_AddonTabs() {
  }

  SS_AddonTabs.render = function () {
    return $(document).on('click', '.toggle-head', function () {
      SS_AddonTabs.toggleWithAnimation(this);
    });
  };

  SS_AddonTabs.findAddonView = function (view) {
    var $view = $(view);
    var $addonView;
    if ($view.hasClass("addon-view")) {
      $addonView = $view;
    } else {
      $addonView = $view.closest('.addon-view');
    }

    return $addonView;
  };

  SS_AddonTabs.head = function (content) {
    var $addonView = SS_AddonTabs.findAddonView(content);
    return $addonView.find('.addon-head');
  };

  SS_AddonTabs.show = function (view) {
    var $addonView = SS_AddonTabs.findAddonView(view);
    $addonView.find('.toggle-body').show();
    $addonView.removeClass('body-closed');
    $addonView.trigger('ss:addonShown');
  };

  SS_AddonTabs.hide = function (view) {
    var $addonView = SS_AddonTabs.findAddonView(view);
    $addonView.find('.toggle-body').hide();
    $addonView.addClass('body-closed');
    $addonView.trigger('ss:addonHided');
  };

  SS_AddonTabs.toggleWithAnimation = function (view) {
    var $addonView = SS_AddonTabs.findAddonView(view);
    $addonView.find('.toggle-body').animate({ height: 'toggle' }, 'fast', function() {
      $addonView.toggleClass('body-closed');
      if ($addonView.hasClass('body-closed')) {
        $addonView.trigger('ss:addonHided');
      } else {
        $addonView.trigger('ss:addonShown');
      }
    });
  };

  SS_AddonTabs.toggleView = function (view) {
    console.log("SS_AddonTabs.toggleView is deprecated");
    SS_AddonTabs.hide(view);
  };
  //TODO: depracated

  return SS_AddonTabs;

})();

